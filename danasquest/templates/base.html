{% load static i18n %}<!DOCTYPE html>
{% get_current_language as LANGUAGE_CODE %}
<html lang="{{ LANGUAGE_CODE }}">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>{% block title %}danasquest{% endblock title %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="visual novel web game">
  <meta name="author" content="MeditationSteps">

  <link rel="icon" href="{% static 'images/favicons/favicon.ico' %}">

  {% block css %}
    <!-- Latest compiled and minified Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css"
          integrity="sha512-GQGU0fMMi238uA+a/bdWJfpUGKUkBdgfFdgBm72SUQ6BeyWjoY/ton0tEjH+OSH9iP4Dfh+7HM0I9f5eR0L/4w=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <!-- Your stuff: Third-party CSS libraries go here -->

    <!-- This file stores project-specific CSS -->
    <link href="{% static 'css/project.css' %}" rel="stylesheet">
    <link href="{% static 'css/game.css' %}" rel="stylesheet">
  {% endblock %}
  <!-- Le javascript
  ================================================== -->
  {# Placed at the top of the document so pages load faster with defer #}
  {% block javascript %}
    <!-- Bootstrap JS -->
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.min.js"
            integrity="sha512-OvBgP9A2JBgiRad/mM36mkzXSXaJE9BEIENnVEmeZdITvwT09xnxLtT4twkCa8m/loMbPHsvPl0T8lRGVBwjlQ=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Your stuff: Third-party javascript libraries go here -->

    <!-- place project specific Javascript in this file -->
    <script defer src="{% static 'js/project.js' %}"></script>

  {% endblock javascript %}

</head>

<body style="background-image: url({{ assets.background.file.url }});">
{#<div class="menu">#}
{#  <button>Start</button>#}
{#  <button>Load</button>#}
{#  <button>Settings</button>#}
{#</div>#}
<button class="side-button-0">Book</button>
<button class="side-button-1">Menu</button>

{% if assets.audio %}
  {% for audio_asset in assets.audio %}
    {#    Enable audio controls for sound engineers #}
    {#    <audio id="{{ audio_asset.id }}" controls>#}
    {#    <audio id="audio-{{ audio_asset.id }} autoplay muted">#}
    <audio id="audio-{{ audio_asset.id }}">
      <source src="{{ audio_asset.file.url }}" type="audio/mpeg">
      Your browser does not support the audio element.
    </audio>
    <button onclick="playAudio('audio-{{ audio_asset.id }}')">Play</button>
    <button onclick="pauseAudio('audio-{{ audio_asset.id }}')">Pause</button>
  {% endfor %}
{% endif %}

<script>
  function playAudio(id) {
    let audio = document.getElementById(id);
    audio.play();
    audio.onended = function () {
      audio.play();
    }
  }

  function pauseAudio(id) {
    let audio = document.getElementById(id);
    audio.pause();
  }

</script>

<img src={{ assets.char_left }} class="character character-left">
<img src={{ assets.char_right }} class="character character-right">
<div class="dialogue">
  <p id="dialogue-text">{{ content|safe }}</p>
</div>
</body>
</body>

</html>
